# TypeScript

âš ï¸éå¸¸é‡è¦

ğŸ‘‘é‡è¦

â­ï¸ä¸€èˆ¬

ğŸ“äº†è§£

## ğŸ“TSå’ŒJSçš„åŒºåˆ«

- TypeScriptæ˜¯JavaScriptçš„è¶…é›†
- TypeScriptæ˜¯å…·æœ‰é™æ€ç±»å‹çš„JavaScript
- TypeScriptè¿è¡Œéœ€è¦è½¬æ¢ä¸ºJavaScriptï¼ˆä¸€èˆ¬ä½¿ç”¨ts-loaderï¼‰

## ğŸ‘‘TypeScriptæ•°æ®ç±»å‹

- numberï¼šæ•°å­—
- stringï¼šå­—ç¬¦ä¸²
- booleanï¼šå¸ƒå°”ç±»å‹
- arrayï¼šæ‰€æœ‰å…ƒç´ å€¼ç±»å‹ç›¸åŒçš„é›†åˆ
- tupleï¼šæ•°é‡å›ºå®šï¼Œç±»å‹å¯ä»¥å„å¼‚çš„é›†åˆï¼Œç›¸è¾ƒäºobjectï¼Œè§£æ„èµ‹å€¼å‡ºæ¥çš„åå­—å¯ä»¥è¿›è¡Œé‡å‘½å
- anyï¼šè¡¨ç¤ºå¯ä»¥æ˜¯ä»»ä½•å€¼
- unknowï¼šè¡¨ç¤ºå¯ä»¥æ˜¯ä»»ä½•å€¼
- voidï¼šå‡½æ•°ä¸è¿”å›å€¼æˆ–è€…è¿”å›undefined
- neverï¼šè¡¨ç¤ºæ°¸è¿œä¸ä¼šè¿”å›ç»“æœï¼ˆvoidä¹Ÿæ˜¯ä¸€ç§è¿”å›å€¼ï¼‰
- enumï¼šæšä¸¾ç±»å‹
- null/undefinedï¼šæ—¢æ˜¯ä¸€ä¸ªå€¼ä¹Ÿæ˜¯ä¸€ä¸ªç±»å‹

## ğŸ‘‘ç±»å‹å®ˆå«å’Œç±»å‹æ–­è¨€

- **ç±»å‹å®ˆå«**

  æ˜¯TypeScriptåœ¨è¿è¡Œæ—¶æ£€æµ‹æŸä¸ªæ•°æ®æ˜¯å¦åœ¨æ‰€è¦çš„èŒƒå›´å†…

  ```tsx
  //æ·»åŠ ç±»å‹å®ˆå«ï¼Œæ£€æµ‹æ˜¯å¦æ˜¯Errorï¼Œæœ‰messageå°±æ˜¯Error
  const isError = (value: any): value is Error => value?.message;
  ```

- **ç±»å‹æ–­è¨€**

  ç±»å‹æ–­è¨€å¥½æ¯”å…¶ä»–è¯­è¨€ä¸­çš„å¼ºåˆ¶è½¬æ¢ï¼Œä½†æ˜¯åˆä¸è¿›è¡Œç‰¹æ®Šçš„æ•°æ®æ£€æŸ¥å’Œè§£æ„ï¼Œä»…ä»…æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µèµ·ä½œç”¨ï¼Œå¯¹è¿è¡Œæ—¶å¹¶æ²¡æœ‰ä½œç”¨ï¼ˆè®©ç¼–è¯‘å™¨ï¼Œå¬ä½ çš„ï¼ˆé¦–å…ˆä½ å¾—æ˜¯å¯¹çš„ï¼Œä¸ç„¶åœ¨è¿è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™ï¼ï¼ï¼‰ï¼‰

  ```tsx
  let someValue: any = "this is a string";
  //æ–¹æ³•ä¸€
  let strLength1: number = (<string>someValue).length;
  //æ–¹æ³•äºŒ
  let strLength2: number = (someValue as string).length;
  ```


## ğŸ“constå’Œreadonly

é¦–å…ˆconstå’Œreadonlyå‡å¯ä»¥å®ç°ä¸å¯å˜é‡

ä½†æ˜¯constæ‰€åˆ›å»ºçš„å¼•ç”¨ç±»å‹ï¼Œå…¶å†…éƒ¨çš„å˜é‡ä»èƒ½è¿›è¡Œæ”¹å˜ï¼ˆå¼•ç”¨ç±»å‹ä¸­å­˜å‚¨çš„æ˜¯åœ°å€ï¼Œæ›´æ”¹å†…éƒ¨çš„å˜é‡ï¼Œå¼•ç”¨ç±»å‹çš„åœ°å€ç¡®å®æ²¡å˜ï¼‰

```tsx
const a = [1, 2, 3];
a.push(102); //ä»ç„¶èƒ½å¤Ÿè¿›è¡Œæ›´æ”¹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ˜¯è¿™æ ·
```

å› æ­¤å°±æœ‰readonlyè¯ç”Ÿæƒ¹

```tsx
//ä½¿æ•°ç»„ä¸­çš„å…ƒç´ å€¼ä¹Ÿæ— æ³•è¢«æ›´æ”¹
let b: readonly number[] = [1, 2, 3];
b[0] = 101; //error

//ç›´æ¥ä½¿ç”¨ReadonlyArray<T>åˆ›å»ºæ•°ç»„
let a: ReadonlyArray<number> = [1, 2, 3];
a.push(102); // error

//å¯ä»¥ç›´æ¥ä½¿ç”¨åœ¨ç±»ä¸­æŒ‡å®šå˜é‡èº«ä¸Š
interface Rx {
  readonly x: number;
}
let rx: Rx = { x: 1 };
rx.x = 12; // error

//Readony<T>
interface X {
  x: number;
}
let rx: Readonly<X> = { x: 1 };
rx.x = 12; // error
```

## ğŸ“æšä¸¾/å®Œå…¨åµŒå…¥æšä¸¾

**æšä¸¾ç±»å‹**

å…è®¸æˆ‘ä»¬å®šä¹‰ä¸€ç»„å‘½åå¸¸é‡

```js
/* å®šä¹‰enumæšä¸¾ */
//æ•°å­—æšä¸¾
enum Gender {
    Male = 1,
    Female = 2
}
//å­—ç¬¦ä¸²æšä¸¾
enum Direction {
  Up = "UP",
  Down = "DOWN",
  Left = "LEFT",
  Right = "RIGHT",
}
let m: { name: string, gender: Gender }
m = {
    name: 'å¼ ä¸‰',
    gender: Gender.Male
}
```

æšä¸¾ä¼šè¢«ç¼–è¯‘æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥å½“ä½œå¯¹è±¡ä½¿ç”¨

**å®Œå…¨åµŒå…¥æšä¸¾**

```js
const enum Color {
  Red,
  Green,
  Blue
}
//ç¼–è¯‘ä¹‹åä¼šå˜æˆvar sisterAn = 0ï¼ˆè¢«å½“æˆäº†Numberæ¥ä½¿ç”¨ï¼Œå¦‚æœä¸è€ƒè™‘ç¼–è¯‘ä¹‹åçš„å¯è¯»æ€§ï¼Œå¯ä»¥ä½¿ç”¨å®Œå…¨åµŒå…¥æšä¸¾æ¥æé«˜æ€§èƒ½ï¼‰
var sisterAn = Color.Red
```

## âš ï¸typeå’ŒinterfaceåŒºåˆ«

- **typeï¼šç±»å‹åˆ«å**

  ```
  type FavoriteNumber = string|number
  type AuthForm {
  	username: string;
    password: string;
  }
  ```

- **interfaceï¼šæ¥å£**

  ```
  interface AuthForm {
    username: string;
    password: string;
  }
  ```

typeå’Œinterfaceå¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥äº’ç›¸è½¬æ¢ï¼Œ

ä½†æ˜¯åœ¨ï½œã€&å’ŒUtility Typeä¸­typeå…·æœ‰æ— æ³•æ›¿ä»£æ€§

interfaceå¯ä»¥å®ç°ç»§æ‰¿ï¼Œtypeä¸è¡Œ

## âš ï¸anyå’Œunknownçš„åŒºåˆ«

anyå’Œunknownå‡è¡¨ç¤ºä»»ä½•å€¼

ä½†æ˜¯anyæ˜¯è®©TSå°†è¯¥å¯¹è±¡å½“æˆJSçš„æ–¹å¼æ¥å¤„ç†

è€Œunknownä¸å…è®¸èµ‹å€¼ç»™å…¶ä»–ç±»å‹ï¼Œå¦‚æœæœ‰å¿…è¦å¿…é¡»è¿›è¡Œæ–­è¨€

## ğŸ“neverå’Œvoidçš„åŒºåˆ«

neverè¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„ç±»å‹ï¼Œå¸¸ç”¨äºå‡½æ•°è¿”å›ç±»å‹ï¼Œè¡¨ç¤ºæ°¸è¿œéƒ½æ²¡æœ‰è¿”å›ç»“æœã€‚

voidè¡¨ç¤ºç©ºç±»å‹ï¼ˆå‡½æ•°è¿”å›è®¾ç½®æˆneveræ—¶ï¼Œæ— æ³•è¿”å›voidç±»å‹ï¼Œå› ä¸ºvoidä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼‰ï¼Œåªèƒ½èµ‹äºˆundefinedæˆ–è€…null

## âš ï¸as const

constæ–­è¨€å‘Šè¯‰ç¼–è¯‘å™¨ä¸ºè¡¨è¾¾å¼æ¨æ–­å‡ºå®ƒèƒ½æ¨æ–­å‡ºçš„æœ€çª„æˆ–æœ€ç‰¹å®šçš„ç±»å‹ã€‚å¦‚æœä¸ä½¿ç”¨å®ƒï¼Œç¼–è¯‘å™¨å°†ä½¿ç”¨å…¶é»˜è®¤ç±»å‹æ¨æ–­è¡Œä¸ºï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ›´å¹¿æ³›æˆ–æ›´ä¸€èˆ¬çš„ç±»å‹ã€‚

## âš ï¸TSé¸­å­ç±»å‹

**ç»§æ‰¿**

TSä¸­ç±»å‹çš„ç»§æ‰¿ï¼Œçˆ¶è¾ˆèƒ½å¤Ÿæ¥æ”¶å­è¾ˆç±»å‹çš„å€¼

é¸­å­ç±»å‹ï¼ˆduck typingï¼‰ï¼š**é¢å‘æ¥å£ç¼–ç¨‹**è€Œä¸æ˜¯**é¢å‘å¯¹è±¡ç¼–ç¨‹**

```tsx
interface Base{
  id:number
}
interface Advance extends Base{
  name:string
}
const test = (p:Base)=>{
}
const a={id:1,name:'jack'}
//ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘éœ€è¦idå±æ€§ï¼Œåªè¦ä½ ä¼ çš„å¸¦idå±æ€§ï¼Œé‚£ä¹ˆå°±æ˜¯åˆç†çš„ï¼Œå¹¶ä¸æ˜¯ä¸€æ ·è¦ç±»å‹ç¬¦åˆï¼Œè¿™å°±æ˜¯é¸­å­ç±»å‹
test(a)
```

